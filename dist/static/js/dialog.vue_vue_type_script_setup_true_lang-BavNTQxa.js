var D=(g,m,a)=>new Promise((p,i)=>{var c=e=>{try{t(a.next(e))}catch(f){i(f)}},u=e=>{try{t(a.throw(e))}catch(f){i(f)}},t=e=>e.done?p(e.value):Promise.resolve(e.value).then(c,u);t((a=a.apply(g,m)).next())});import{_ as z,f as C,g as K,b as M,c as W}from"./_plugin-vue_export-helper-jFevbLJz.js";/* empty css                   */import{u as R,P as X}from"./plus-form-CPNzMdfZ.js";import{d as _,p as j,a as V,U as q,f as F,b as O,aI as S,w as o,X as d,g as I,s as H,i as T,u as r,bg as L,h as B,t as N,a8 as E,bG as Q,d0 as Y,n as U,aJ as h,b6 as y,l as P,cK as A,e as Z,k as ee}from"./index-BtKie8gj.js";const le={class:"plus-dialog-body"};var ae=_({name:"PlusDialog",__name:"index",props:{modelValue:{type:Boolean,default:!1},confirmText:{default:""},cancelText:{default:""},confirmLoading:{type:Boolean,default:!1},hasFooter:{type:Boolean,default:!0},footerAlign:{default:"right"},top:{default:"15vh"},width:{default:"460px"},title:{default:""}},emits:["update:modelValue","cancel","confirm"],setup(g,{emit:m}){const a=g,p=j(()=>({justifyContent:a.footerAlign==="left"?"flex-start":a.footerAlign==="center"?"center":"flex-end"})),i=V(!1),{t:c}=R();q(()=>{i.value=a.modelValue});const u=()=>{m("confirm")},t=()=>{m("update:modelValue",!1),m("cancel")};return(e,f)=>(F(),O(r(Q),E({modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=w=>i.value=w),top:e.top,width:e.width,title:e.title||r(c)("plus.dialog.title"),"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!1,"before-close":t,class:"plus-dialog"},e.$attrs),S({default:o(()=>[I("div",le,[d(e.$slots,"default")])]),_:2},[e.$slots.header?{name:"header",fn:o(()=>[d(e.$slots,"header")]),key:"0"}:void 0,e.hasFooter?{name:"footer",fn:o(()=>[I("div",{class:"plus-dialog-footer",style:H(p.value)},[d(e.$slots,"footer",{},()=>[T(r(L),{onClick:t},{default:o(()=>[B(N(e.cancelText||r(c)("plus.dialog.cancelText")),1)]),_:1}),T(r(L),{type:"primary",loading:e.confirmLoading,onClick:u},{default:o(()=>[B(N(e.confirmText||r(c)("plus.dialog.confirmText")),1)]),_:1},8,["loading"])])],4)]),key:"1"}:void 0]),1040,["modelValue","top","width","title"]))}}),oe=z(ae,[["__file","index.vue"]]);const te=oe;var se=_({name:"PlusDialogForm",__name:"index",props:{modelValue:{default:()=>({})},visible:{type:Boolean,default:!1},dialog:{default:()=>({})},form:{default:()=>({})},hasErrorTip:{type:Boolean,default:!0}},emits:["update:modelValue","update:visible","confirm","change","cancel","confirmError"],setup(g,{expose:m,emit:a}){const p=g,{t:i}=R(),c=V(),u=j(()=>{var l;return(l=c.value)==null?void 0:l.formInstance}),t=V({}),e=V(!1),f=Y(),w=C(f,K()),x=C(f,M()),G=C(f,W());U(()=>p.visible,l=>{e.value=l},{immediate:!0}),U(()=>p.modelValue,l=>{t.value=l},{immediate:!0});const J=(l,v)=>{a("update:modelValue",l),a("change",l,v)},$=()=>D(this,null,function*(){var l,v,s;try{(yield(l=u.value)==null?void 0:l.validate())&&a("confirm",t.value)}catch(n){if(p.hasErrorTip){A.closeAll();const b=Object.values(n);A.warning(((s=(v=b[0])==null?void 0:v[0])==null?void 0:s.message)||i("plus.form.errorTip"))}a("confirmError",n)}}),k=()=>{e.value=!1,a("update:visible",e.value),a("cancel")};return m({handleConfirm:$,handleCancel:k,formInstance:u}),(l,v)=>(F(),O(r(te),E({modelValue:e.value,"onUpdate:modelValue":v[1]||(v[1]=s=>e.value=s),width:"800px",top:"10vh",title:r(i)("plus.dialogForm.title")},l.dialog,{onCancel:k,onConfirm:$}),S({default:o(()=>[T(r(X),E({ref_key:"formInstance",ref:c,modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=s=>t.value=s),"has-footer":!1,"footer-align":"right"},l.form,{onChange:J}),S({_:2},[l.$slots["form-footer"]?{name:"footer",fn:o(s=>[d(l.$slots,"form-footer",h(y(s)))]),key:"0"}:void 0,l.$slots["form-group-header"]?{name:"group-header",fn:o(s=>[d(l.$slots,"form-group-header",h(y(s)))]),key:"1"}:void 0,P(r(w),(s,n)=>({name:n,fn:o(b=>[d(l.$slots,n,h(y(b)))])})),P(r(x),(s,n)=>({name:n,fn:o(b=>[d(l.$slots,n,h(y(b)))])})),P(r(G),(s,n)=>({name:n,fn:o(b=>[d(l.$slots,n,h(y(b)))])})),l.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:o(()=>[d(l.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["modelValue"])]),_:2},[l.$slots["dialog-header"]?{name:"header",fn:o(()=>[d(l.$slots,"dialog-header")]),key:"0"}:void 0,l.$slots["dialog-footer"]?{name:"footer",fn:o(()=>[d(l.$slots,"dialog-footer",h(y({handleConfirm:$,handleCancel:k})))]),key:"1"}:void 0]),1040,["modelValue","title"]))}}),re=z(se,[["__file","index.vue"]]);const ne=re,me=_({__name:"dialog",setup(g){const m=[{label:"名称",width:120,prop:"name",valueType:"copy",tooltip:"名称最多显示6个字符"},{label:"状态",width:120,prop:"status",valueType:"select",options:[{label:"未解决",value:"0",color:"red"},{label:"已解决",value:"1",color:"blue"},{label:"解决中",value:"2",color:"yellow"},{label:"失败",value:"3",color:"red"}]},{label:"是否显示",width:100,prop:"switch",valueType:"switch"},{label:"时间",prop:"time",valueType:"date-picker"},{label:"数量",prop:"number",valueType:"input-number",fieldProps:{precision:2,step:2}},{label:"城市",prop:"city",valueType:"cascader",options:[{value:"0",label:"陕西",children:[{value:"0-0",label:"西安",children:[{value:"0-0-0",label:"新城区"},{value:"0-0-1",label:"高新区"},{value:"0-0-2",label:"灞桥区"}]}]},{value:"1",label:"山西",children:[{value:"1-0",label:"太原",children:[{value:"1-0-0",label:"小店区"},{value:"1-0-1",label:"古交市"},{value:"1-0-2",label:"万柏林区"}]}]}]},{label:"地区",prop:"place",tooltip:"请精确到门牌号",fieldProps:{placeholder:"请精确到门牌号"}},{label:"要求",prop:"demand",valueType:"checkbox",options:[{label:"四六级",value:"0"},{label:"计算机二级证书",value:"1"},{label:"普通话证书",value:"2"}]},{label:"梦想",prop:"gift",valueType:"radio",options:[{label:"诗",value:"0"},{label:"远方",value:"1"},{label:"美食",value:"2"}]},{label:"到期时间",prop:"endTime",valueType:"date-picker",fieldProps:{type:"datetimerange",startPlaceholder:"请选择开始时间",endPlaceholder:"请选择结束时间"}},{label:"说明",prop:"desc",valueType:"textarea",fieldProps:{maxlength:10,showWordLimit:!0,autosize:{minRows:2,maxRows:4}}}],a=V(!1),p=V({}),i=()=>{a.value=!0};return(c,u)=>{const t=Z("el-button");return F(),ee("div",null,[T(t,{onClick:i},{default:o(()=>[B("打开弹窗表单")]),_:1}),T(r(ne),{visible:a.value,"onUpdate:visible":u[0]||(u[0]=e=>a.value=e),modelValue:p.value,"onUpdate:modelValue":u[1]||(u[1]=e=>p.value=e),form:{columns:m}},null,8,["visible","modelValue","form"])])}}});export{me as _};
