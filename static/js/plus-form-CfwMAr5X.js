var He=Object.defineProperty,We=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var Ve=(t,a,p)=>a in t?He(t,a,{enumerable:!0,configurable:!0,writable:!0,value:p}):t[a]=p,D=(t,a)=>{for(var p in a||(a={}))Je.call(a,p)&&Ve(t,p,a[p]);if(ke)for(var p of ke(a))Xe.call(a,p)&&Ve(t,p,a[p]);return t},re=(t,a)=>We(t,qe(a));var Pe=(t,a,p)=>new Promise((i,d)=>{var b=c=>{try{n(p.next(c))}catch(s){d(s)}},C=c=>{try{n(p.throw(c))}catch(s){d(s)}},n=c=>c.done?i(c.value):Promise.resolve(c.value).then(b,C);n((p=p.apply(t,a)).next())});import{a as E,aG as we,n as q,aY as Le,fw as Ze,p as M,fx as Qe,u as e,dW as xe,d as ee,f as o,b as v,a6 as g,X as L,ar as j,aE as el,r as he,fy as Re,aq as Q,l as A,w as h,b5 as H,k as I,F as N,ce as me,h as W,t as z,j as R,cg as _e,B as Be,fz as Ue,i as x,bO as ve,g as be,v as Oe,cD as ll,a7 as Ce,q as Ee,c1 as de,bl as al,bx as ol,bC as tl,bA as sl,bH as ul,c2 as rl,ch as nl,cl as Ae,cm as Ne,cr as dl,cx as il,cF as pl,cG as cl,cK as fl,cM as ml,U as w,fA as vl,cE as hl,bS as bl,bZ as yl,cJ as gl,b_ as je,bD as kl,cj as Vl,db as Pl,bu as Cl,s as El,br as Te,bY as Tl,cV as Se}from"./index-DRkpZp5K.js";import{e as ue,i as K,h as Ie,t as Sl,a as Ge,_ as le,v as Ke,j as Il,k as Fe,g as se,l as Fl,b as oe,m as pe,c as ne,f as ce,d as $l}from"./_plugin-vue_export-helper-Clxf9gWa.js";const fe=t=>{ue(t)||console.error("Uncaught TypeError: ",`options expected Array but got ${Sl(t)}`)},Dl=t=>{const a=E([]),p=E(!1);if(!t.options)a.value=[],p.value=!0;else if(we(t.options))q(t.options,i=>{a.value=i,p.value=!0},{immediate:!0});else if(ue(t.options))a.value=[...t.options],p.value=!0;else if(K(t.options)){const i=t.options,d=i(t);Ie(d)?d.then(b=>{a.value=b,p.value=!0,fe(a.value)}).catch(b=>{throw b}):(a.value=d,p.value=!0)}else Ie(t.options)?t.options.then(d=>{a.value=d,p.value=!0,fe(a.value)}).catch(d=>{throw d}):(p.value=!0,fe(t.options));return{customOptions:a,customOptionsIsReady:p}},wl=t=>(a,p)=>Ll(a,p,e(t)),Ll=(t,a,p)=>xe(p,t,t).replace(/\{(\w+)\}/g,(i,d)=>{var b;return`${(b=a==null?void 0:a[d])!=null?b:`{${d}}`}`}),Rl=t=>{const a=M(()=>e(t).name),p=we(t)?t:E(t);return{lang:a,locale:p,t:wl(t)}},ie=t=>{const a=Le(Ze,E());return Rl(M(()=>a.value||Qe))},_l=Symbol("tableFormFieldRefInjectionKey"),Bl=["datetimerange","daterange","monthrange"],Ul=["rate","input-number","slider"],Ol=["checkbox","cascader","plus-date-picker","plus-input-tag","transfer"];var Al=ee({name:"PlusRender",__name:"index",props:{renderType:{default:void 0},callbackValue:{default:""},customFieldProps:{default:()=>({})},render:{},params:{default:()=>({})},handleChange:{}},setup(t){const a=t,p=E();q(()=>a.callbackValue,d=>{p.value=d},{flush:"post",immediate:!0});const i=()=>{if(!a.render)return;const d=D({},a.params),b=a.renderType==="form"?a.render(p.value,a.handleChange,d):a.render(p.value,d);if(el(b)){const C=a.renderType==="form"?D(D({modelValue:p.value},a.customFieldProps),b.props):D(D({},a.customFieldProps),b.props);return re(D({},b),{props:C})}else if(Ge(b))return b};return(d,b)=>d.renderType==="form"?(o(),v(L(i),g({key:0,modelValue:p.value,"onUpdate:modelValue":b[0]||(b[0]=C=>p.value=C)},d.customFieldProps),null,16,["modelValue"])):(o(),v(L(i),j(g({key:1},d.customFieldProps)),null,16))}}),Nl=le(Al,[["__file","index.vue"]]);const $e=Nl;var jl=ee({name:"PlusRadio",__name:"index",props:{modelValue:{type:[String,Number,Boolean],default:""},options:{default:()=>[]},isCancel:{type:Boolean,default:!0},fieldSlots:{default:void 0},fieldChildrenSlot:{default:void 0}},emits:["change","update:modelValue"],setup(t,{expose:a,emit:p}){const i=t,d=p,b=E(),C=E(),n=he({radio:""});q(()=>i.modelValue,y=>{n.radio=y},{immediate:!0});const c=Re(),s=(y,O,m)=>{if(!(Reflect.has(c,"disabled")||m!=null&&m.disabled)){if(i.isCancel)y.preventDefault();else return;n.radio===O?n.radio="":n.radio=O,d("update:modelValue",n.radio),d("change",n.radio)}},F=y=>{i.isCancel||(d("update:modelValue",y),d("change",y))};return a({radioInstance:b,radioGroupInstance:C}),(y,O)=>(o(),v(e(_e),g({ref_key:"radioGroupInstance",ref:C,modelValue:n.radio,"onUpdate:modelValue":O[0]||(O[0]=m=>n.radio=m),class:"plus-radio"},y.$attrs),Q({default:h(()=>[e(Ke)?(o(!0),I(N,{key:0},A(y.options,m=>(o(),v(e(me),g({key:m.value,ref_for:!0,ref_key:"radioInstance",ref:b,label:m.value},m.fieldItemProps,{onClick:_=>s(_,m.value,m.fieldItemProps),onChange:_=>F(m.value)}),{default:h(()=>[e(K)(m.fieldSlot)?(o(),v(L(m.fieldSlot),g({key:0,"model-value":n.radio,column:i},m),null,16,["model-value"])):e(K)(y.fieldChildrenSlot)?(o(),v(L(y.fieldChildrenSlot),g({key:1,"model-value":n.radio,column:i},m),null,16,["model-value"])):(o(),I(N,{key:2},[W(z(m==null?void 0:m.label),1)],64))]),_:2},1040,["label","onClick","onChange"]))),128)):(o(),I(N,{key:1},[R(" element-plus 版本号大于等于2.6.0 "),(o(!0),I(N,null,A(y.options,m=>(o(),v(e(me),g({key:m.value,ref_for:!0,ref_key:"radioInstance",ref:b,value:m.value},m.fieldItemProps,{onClick:_=>s(_,m.value,m.fieldItemProps),onChange:_=>F(m.value)}),{default:h(()=>[e(K)(m.fieldSlot)?(o(),v(L(m.fieldSlot),g({key:0,"model-value":n.radio,column:i},m),null,16,["model-value"])):e(K)(y.fieldChildrenSlot)?(o(),v(L(y.fieldChildrenSlot),g({key:1,"model-value":n.radio,column:i},m),null,16,["model-value"])):(o(),I(N,{key:2},[W(z(m==null?void 0:m.label),1)],64))]),_:2},1040,["value","onClick","onChange"]))),128))],64))]),_:2},[A(y.fieldSlots,(m,_)=>({name:_,fn:h(V=>[(o(),v(L(m),j(H(V)),null,16))])}))]),1040,["modelValue"]))}}),Gl=le(jl,[["__file","index.vue"]]);const Kl=Gl,Ml={class:"plus-date-picker__middle"};var Yl=ee({name:"PlusDatePicker",__name:"index",props:{modelValue:{default:()=>[]},rangeSeparator:{default:"/"},valueFormat:{default:"YYYY-MM-DD HH:mm:ss"},type:{default:"datetime"},startProps:{default:()=>({})},endProps:{default:()=>({})},startDisabledDate:{type:Function,default:(t,a)=>a?t.getTime()>new Date(a).getTime():!1},endDisabledDate:{type:Function,default:(t,a)=>a?t.getTime()<new Date(a).getTime():!1}},emits:["change","focus","update:modelValue"],setup(t,{expose:a,emit:p}){const i=t,d=p,{t:b}=ie(),C=Re(),n=M(()=>D(D({},C),i.startProps)),c=M(()=>D(D({},C),i.endProps)),s=E(),F=E(),y=he({start:"",end:""}),O=E(!1),m=f=>{O.value=!0,d("focus",f)},_=()=>{O.value=!1},V=f=>i.startDisabledDate&&K(i.startDisabledDate)?i.startDisabledDate(f,y.end):!1,S=f=>i.endDisabledDate&&K(i.endDisabledDate)?i.endDisabledDate(f,y.start):!1;q(()=>i.modelValue,f=>{const[Y,G]=f;y.start=Y,y.end=G},{immediate:!0});const k=()=>{const f=[y.start,y.end];d("update:modelValue",f),d("change",f)};return a({startPickerInstance:s,endPickerInstance:F}),(f,Y)=>Be((o(),I("div",{class:Oe(["plus-date-picker",{"is-focus":O.value}])},[x(e(ve),g({ref_key:"startPickerInstance",ref:s,modelValue:y.start,"onUpdate:modelValue":Y[0]||(Y[0]=G=>y.start=G),type:f.type,"value-format":f.valueFormat,placeholder:e(b)("plus.datepicker.startPlaceholder"),"disabled-date":V,class:"plus-date-picker__start",clearable:""},n.value,{onChange:k,onFocus:m}),null,16,["modelValue","type","value-format","placeholder"]),be("span",Ml,z(f.rangeSeparator),1),x(e(ve),g({ref_key:"endPickerInstance",ref:F,modelValue:y.end,"onUpdate:modelValue":Y[1]||(Y[1]=G=>y.end=G),"value-format":f.valueFormat,type:f.type,placeholder:e(b)("plus.datepicker.endPlaceholder"),"disabled-date":S,class:"plus-date-picker__end",clearable:""},c.value,{onChange:k,onFocus:m}),null,16,["modelValue","value-format","type","placeholder"])],2)),[[e(Ue),_]])}}),zl=le(Yl,[["__file","index.vue"]]);const Hl=zl;var Wl=ee({name:"PlusInputTag",__name:"index",props:{modelValue:{default:()=>[]},trigger:{default:()=>["blur","enter","space"]},inputProps:{default:()=>({})},tagProps:{default:()=>({})},limit:{default:1/0},formatTag:{type:Function,default:void 0},retainInputValue:{type:Boolean,default:!1}},emits:["update:modelValue","change","remove","blur","enter","space"],setup(t,{expose:a,emit:p}){const i=t,d=p,b=E(),C=E(),n=E(),c=he({tags:[],inputValue:"",isFocus:!1}),{t:s}=ie();q(()=>i.modelValue,V=>{c.tags=V.slice(0,i.limit)},{immediate:!0});const F=()=>{c.isFocus=!1},y=()=>{var V;c.isFocus=!0,(V=b.value)==null||V.focus()},O=V=>{c.tags=c.tags.filter(S=>S!==V),d("remove",V),d("update:modelValue",c.tags),d("change",c.tags)},m=()=>{c.inputValue.trim()&&!c.tags.includes(c.inputValue.trim())&&c.tags.length<i.limit&&c.tags.push(c.inputValue.trim()),i.retainInputValue||(c.inputValue=""),d("update:modelValue",c.tags),d("change",c.tags)},_=(V,S)=>{d(S,c.inputValue,V),(ue(i.trigger)?i.trigger:Ge(i.trigger)?[i.trigger]:["blur","enter","space"]).includes(S)&&m()};return a({inputInstance:b,tagInstance:C}),(V,S)=>Be((o(),I("div",{ref_key:"plusInputTagInstance",ref:n,class:Oe(["plus-input-tag",{"is-focus":c.isFocus}]),onClick:y},[(o(!0),I(N,null,A(c.tags,k=>(o(),v(e(ll),g({ref_for:!0,ref_key:"tagInstance",ref:C,key:k,class:"plus-input-tag__tag"},V.tagProps,{closable:"",onClose:f=>O(k)}),{default:h(()=>[W(z(V.formatTag&&e(K)(V.formatTag)?V.formatTag(k):k),1)]),_:2},1040,["onClose"]))),128)),c.tags.length<V.limit?(o(),v(e(de),g({key:0,ref_key:"inputInstance",ref:b,modelValue:c.inputValue,"onUpdate:modelValue":S[0]||(S[0]=k=>c.inputValue=k),class:"plus-input-tag__input",placeholder:c.tags.length?"":e(s)("plus.inputTag.placeholder"),disabled:c.tags.length>=V.limit},V.inputProps,{clearable:"",onBlur:S[1]||(S[1]=k=>_(k,"blur")),onKeyup:[S[2]||(S[2]=Ce(Ee(k=>_(k,"enter"),["exact"]),["enter"])),S[3]||(S[3]=Ce(Ee(k=>_(k,"space"),["exact"]),["space"]))]}),null,16,["modelValue","placeholder","disabled"])):R("v-if",!0)],2)),[[e(Ue),F]])}}),ql=le(Wl,[["__file","index.vue"]]);const Jl=ql,Me={"plus-radio":{component:Kl,hasOptions:!0},"plus-date-picker":{component:Hl},"plus-input-tag":{component:Jl},autocomplete:{component:al,props:{placeholder:"plus.field.pleaseEnter"},hasSelectEvent:!0},cascader:{component:ol,hasOptions:!0},checkbox:{component:tl,children:sl,hasVersionCompatibility:!0},"color-picker":{component:ul},"date-picker":{component:ve,props:{startPlaceholder:"plus.datepicker.startPlaceholder",endPlaceholder:"plus.datepicker.endPlaceholder"}},"input-number":{component:rl,props:{placeholder:"plus.field.pleaseEnter"}},radio:{component:_e,children:me,hasVersionCompatibility:!0},rate:{component:nl},select:{component:Ae,children:Ne},slider:{component:dl},switch:{component:il},"time-picker":{component:pl},"time-select":{component:cl},transfer:{component:fl},input:{component:de,props:{placeholder:"plus.field.pleaseEnter"}},textarea:{component:de,props:{type:"textarea",placeholder:"plus.field.pleaseEnter"}},"tree-select":{component:ml}},Xl=t=>Object.keys(Me).includes(t),te=t=>Reflect.get(Me,t)||{},Zl={class:"plus-form-item__label"};var Ql=ee({name:"PlusFormItem",__name:"index",props:{modelValue:{default:""},hasLabel:{default:!0},label:{default:""},prop:{},fieldProps:{default:()=>({})},valueType:{default:void 0},options:{default:()=>[]},formItemProps:{default:()=>({})},renderField:{default:void 0},renderLabel:{default:void 0},tooltip:{default:""},fieldSlots:{default:()=>({})},fieldChildrenSlot:{default:void 0},index:{default:0}},emits:["update:modelValue","change"],setup(t,{expose:a,emit:p}){const i=yl,d=gl,b=je,C=de,n=Ae,c=Ne,s=t,F=p,{t:y}=ie(),{customOptions:O,customOptionsIsReady:m}=Dl(s),_=E(),V=E(),S=E({}),k=E({}),f=E(),Y=E(!1),G=E(!1),r=M(()=>Il(s.label)),T=M(()=>re(D({},s),{label:r.value})),B=Le(_l,{}),$=M(()=>{var l,P,u,J,X,ge;return s.valueType==="cascader"&&((P=(l=k.value)==null?void 0:l.props)==null?void 0:P.emitPath)===!1?!1:!!(Ol.includes(s.valueType)||s.valueType==="select"&&((u=k.value)==null?void 0:u.multiple)===!0||s.valueType==="date-picker"&&Bl.includes((J=k.value)==null?void 0:J.type)||s.valueType==="time-picker"&&((X=k.value)==null?void 0:X.isRange)===!0||s.valueType==="tree-select"&&((ge=k.value)==null?void 0:ge.multiple)===!0)}),U=M(()=>!!Ul.includes(s.valueType)),Z=l=>{if($.value)if(ue(l)){const[P,u]=l;pe(P)||pe(u)?f.value=[String(P),String(u)]:f.value=l}else f.value=[];else U.value?f.value=Number(l):pe(l)?f.value=String(l):f.value=l;G.value=!0},ye=M(()=>{const{hasOptions:l,hasSelectEvent:P,props:u}=te(s.valueType);return D(D(re(D(D(D({},l?{options:O.value}:null),P?{onSelect:ze}:null),u),{placeholder:u!=null&&u.placeholder?y(u==null?void 0:u.placeholder)+r.value:y("plus.field.pleaseSelect")+r.value}),s.valueType==="date-picker"?{startPlaceholder:u!=null&&u.startPlaceholder?y(u==null?void 0:u.startPlaceholder):"",endPlaceholder:u!=null&&u.startPlaceholder?y(u==null?void 0:u.endPlaceholder):""}:null),k.value)}),Ye=l=>D(D({},s.valueType==="select"?{label:l.label,value:l.value}:Ke?{label:l.value}:{label:l.label,value:l.value}),l.fieldItemProps);q(()=>s.formItemProps,l=>{Fe(l,f.value,s,s.index,"formItemProps").then(P=>{S.value=P}).catch(P=>{throw P})},{immediate:!0,deep:!0}),q(()=>s.fieldProps,l=>{Fe(l,f.value,s,s.index,"fieldProps").then(P=>{k.value=P,Y.value=!0}).catch(P=>{throw P})},{immediate:!0,deep:!0}),q(M(()=>[s.modelValue,Y.value,m.value]),([l,P,u])=>{P&&u&&Z(l)},{immediate:!0,flush:"post"});const ae=l=>{F("update:modelValue",l),F("change",l)},ze=({value:l})=>{ae(l)};return q(V,()=>{B.value={fieldInstance:V.value,valueIsReady:G}}),a({formItemInstance:_,fieldInstance:V}),(l,P)=>G.value?(o(),v(e(i),g({key:0,ref_key:"formItemInstance",ref:_,label:l.hasLabel?r.value:"",prop:l.prop,class:"plus-form-item"},S.value),Q({default:h(()=>[l.renderField&&e(K)(l.renderField)?(o(),I(N,{key:0},[G.value?(o(),v(e($e),{key:0,render:l.renderField,params:T.value,"callback-value":f.value,"custom-field-props":k.value,"render-type":"form","handle-change":ae},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):l.$slots[e(oe)(l.prop)]?w(l.$slots,e(oe)(l.prop),{key:1,prop:l.prop,label:r.value,fieldProps:k.value,valueType:l.valueType,column:s}):l.valueType==="select"&&k.value.multiple===!0?(o(),v(e(n),g({key:2,ref_key:"fieldInstance",ref:V,modelValue:f.value,"onUpdate:modelValue":P[0]||(P[0]=u=>f.value=u),placeholder:e(y)("plus.field.pleaseSelect")+r.value,class:"plus-form-item-field",clearable:""},k.value,{"onUpdate:modelValue":ae}),Q({default:h(()=>[(o(!0),I(N,null,A(e(O),u=>(o(),v(e(c),g({key:u.label,label:u.label,value:u.value},u.fieldItemProps),{default:h(()=>[e(K)(u.fieldSlot)?(o(),v(L(u.fieldSlot),j(g({key:0},u)),null,16)):e(K)(l.fieldChildrenSlot)?(o(),v(L(l.fieldChildrenSlot),j(g({key:1},u)),null,16)):(o(),I(N,{key:2},[W(z(u.label),1)],64))]),_:2},1040,["label","value"]))),128))]),_:2},[A(l.fieldSlots,(u,J)=>({name:J,fn:h(X=>[(o(),v(L(u),j(H(X)),null,16))])}))]),1040,["modelValue","placeholder"])):e(Xl)(l.valueType)?(o(),I(N,{key:3},[R(" 统一处理 "),R(" has-children  "),e(te)(l.valueType).children?(o(),v(L(e(te)(l.valueType).component),g({key:0,ref_key:"fieldInstance",ref:V,modelValue:f.value,"onUpdate:modelValue":P[1]||(P[1]=u=>f.value=u),class:"plus-form-item-field",clearable:""},ye.value,{"onUpdate:modelValue":ae}),Q({default:h(()=>[(o(!0),I(N,null,A(e(O),u=>(o(),v(L(e(te)(l.valueType).children),g({key:u.label},Ye(u)),{default:h(()=>[e(K)(u.fieldSlot)?(o(),v(L(u.fieldSlot),g({key:0,"model-value":f.value,column:T.value},u),null,16,["model-value","column"])):e(K)(l.fieldChildrenSlot)?(o(),v(L(l.fieldChildrenSlot),g({key:1,"model-value":f.value,column:T.value},u),null,16,["model-value","column"])):(o(),I(N,{key:2},[W(z(u.label),1)],64))]),_:2},1040))),128))]),_:2},[A(l.fieldSlots,(u,J)=>({name:J,fn:h(X=>[(o(),v(L(u),g({value:f.value,column:T.value},X),null,16,["value","column"]))])}))]),1040,["modelValue"])):(o(),I(N,{key:1},[R(" no-children  "),(o(),v(L(e(te)(l.valueType).component),g({ref_key:"fieldInstance",ref:V,modelValue:f.value,"onUpdate:modelValue":P[2]||(P[2]=u=>f.value=u),class:"plus-form-item-field",clearable:"","field-children-slot":l.fieldChildrenSlot},ye.value,{"onUpdate:modelValue":ae}),Q({_:2},[A(l.fieldSlots,(u,J)=>({name:J,fn:h(X=>[(o(),v(L(u),g({"model-value":f.value,column:T.value},X),null,16,["model-value","column"]))])}))]),1040,["modelValue","field-children-slot"]))],2112))],64)):l.valueType==="text"?(o(),v(e(hl),g({key:4,ref_key:"fieldInstance",ref:V,class:"plus-form-item-field"},k.value),{default:h(()=>[W(z(f.value),1)]),_:1},16)):l.valueType==="divider"?(o(),v(e(bl),g({key:5,ref_key:"fieldInstance",ref:V,class:"plus-form-item-field"},k.value),{default:h(()=>[W(z(f.value),1)]),_:1},16)):(o(),v(e(C),g({key:6,ref_key:"fieldInstance",ref:V,modelValue:f.value,"onUpdate:modelValue":P[3]||(P[3]=u=>f.value=u),class:"plus-form-item-field",placeholder:e(y)("plus.field.pleaseEnter")+r.value,autocomplete:"off",clearable:""},k.value,{"onUpdate:modelValue":ae}),Q({_:2},[A(l.fieldSlots,(u,J)=>({name:J,fn:h(X=>[(o(),v(L(u),g({"model-value":f.value,column:T.value},X),null,16,["model-value","column"]))])}))]),1040,["modelValue","placeholder"]))]),_:2},[l.hasLabel?{name:"label",fn:h(({label:u})=>[be("span",Zl,[l.renderLabel&&e(K)(l.renderLabel)?(o(),I(N,{key:0},[G.value?(o(),v(e($e),{key:0,render:l.renderLabel,params:T.value,"callback-value":u,"custom-field-props":k.value},null,8,["render","params","callback-value","custom-field-props"])):R("v-if",!0)],64)):w(l.$slots,e(se)(l.prop),{key:1,prop:l.prop,label:r.value,fieldProps:k.value,valueType:l.valueType,column:T.value},()=>[W(z(u),1)]),l.tooltip?(o(),v(e(d),g({key:2,placement:"top"},e(Fl)(l.tooltip)),{default:h(()=>[w(l.$slots,"tooltip-icon",{},()=>[x(e(b),{class:"plus-table-column__label__icon",size:16},{default:h(()=>[x(e(vl))]),_:1})])]),_:3},16)):R("v-if",!0)])]),key:"0"}:void 0]),1040,["label","prop"])):R("v-if",!0)}}),xl=le(Ql,[["__file","index.vue"]]);const ea=xl,la={key:0,class:"plus-form-item-extra"};var aa=ee({name:"PlusFormContent",__name:"form-content",props:{modelValue:{default:()=>({})},hasLabel:{type:Boolean,default:!0},columns:{default:()=>[]},rowProps:{default:()=>({})},colProps:{default:()=>({})}},emits:["update:modelValue","change"],setup(t,{emit:a}){const p=t,i=a,d=E({}),b=n=>{const c=e(n);return typeof c=="boolean"?c:p.hasLabel};q(()=>p.modelValue,n=>{d.value=n},{immediate:!0});const C=(n,c)=>{i("update:modelValue",d.value),i("change",d.value,c)};return(n,c)=>(o(),v(e(Vl),g(n.rowProps,{class:"plus-form__row"}),{default:h(()=>[(o(!0),I(N,null,A(n.columns,s=>(o(),v(e(kl),g({key:s.prop},s.colProps||n.colProps),{default:h(()=>[x(e(ea),g({modelValue:d.value[s.prop],"onUpdate:modelValue":F=>d.value[s.prop]=F},s,{"has-label":b(s.hasLabel),"label-width":b(s.hasLabel)?s.labelWidth:"0px",onChange:F=>C(F,s)}),Q({_:2},[n.$slots[e(se)(s.prop)]?{name:e(se)(s.prop),fn:h(F=>[w(n.$slots,e(se)(s.prop),j(H(F)))]),key:"0"}:void 0,n.$slots[e(oe)(s.prop)]?{name:e(oe)(s.prop),fn:h(F=>[w(n.$slots,e(oe)(s.prop),j(H(F)))]),key:"1"}:void 0,n.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(n.$slots,"tooltip-icon")]),key:"2"}:void 0]),1040,["modelValue","onUpdate:modelValue","has-label","label-width","onChange"]),R(" el-form-item 下一行额外的内容 "),s.renderExtra||n.$slots[e(ne)(s.prop)]?(o(),I("div",la,[s.renderExtra&&e(K)(s.renderExtra)?(o(),v(L(s.renderExtra),j(g({key:0},s)),null,16)):n.$slots[e(ne)(s.prop)]?w(n.$slots,e(ne)(s.prop),j(g({key:1},s))):R("v-if",!0)])):R("v-if",!0)]),_:2},1040))),128)),R(" 搜索的footer插槽  "),w(n.$slots,"search-footer")]),_:3},16))}}),De=le(aa,[["__file","form-content.vue"]]);const oa={class:"plus-form__group__item__icon"};var ta=ee({name:"PlusForm",__name:"index",props:{modelValue:{default:()=>({})},defaultValues:{default:()=>({})},columns:{default:()=>[]},labelWidth:{default:"80px"},labelPosition:{default:"left"},rowProps:{default:()=>({})},colProps:{default:()=>({})},labelSuffix:{default:":"},hasErrorTip:{type:Boolean,default:!0},hasFooter:{type:Boolean,default:!0},hasReset:{type:Boolean,default:!0},hasLabel:{type:Boolean,default:!0},submitText:{default:""},resetText:{default:""},submitLoading:{type:Boolean,default:!1},footerAlign:{default:"left"},rules:{default:()=>({})},group:{type:[Boolean,Array],default:!1},cardProps:{default:()=>({})}},emits:["update:modelValue","submit","change","reset","submitError"],setup(t,{expose:a,emit:p}){const i=t,d=p,{t:b}=ie(),C=E(null),n=E({}),c=r=>r.filter(T=>e(T.hideInForm)!==!0),s=M(()=>n.value),F=M(()=>({justifyContent:i.footerAlign==="left"?"flex-start":i.footerAlign==="center"?"center":"flex-end"})),y=M(()=>c(i.columns)),O=M(()=>{var r;return ue(i.group)?(r=i.group)==null?void 0:r.filter(T=>e(T.hideInGroup)!==!0):i.group}),m=Pl(),_=ce(m,se()),V=ce(m,oe()),S=ce(m,ne());q(()=>i.modelValue,r=>{n.value=r},{immediate:!0});const k=(r,T)=>{d("update:modelValue",n.value),d("change",n.value,T)},f=()=>{var r;(r=C.value)==null||r.clearValidate()},Y=()=>Pe(this,null,function*(){var r,T,B;try{if(yield(r=C.value)==null?void 0:r.validate())return d("submit",n.value),!0}catch($){if(i.hasErrorTip){Se.closeAll();const U=$l($)&&Object.values($),Z=U?(B=(T=U[0])==null?void 0:T[0])==null?void 0:B.message:void 0;Se.warning(Z||b("plus.form.errorTip"))}d("submitError",$)}return!1}),G=()=>{f(),n.value=D({},i.defaultValues),d("update:modelValue",n.value),d("reset",n.value)};return a({formInstance:C,handleSubmit:Y,handleReset:G}),(r,T)=>(o(),v(e(Tl),g({ref_key:"formInstance",ref:C,rules:r.rules,"label-width":r.hasLabel?r.labelWidth:0,class:["plus-form",r.hasLabel?"":"no-has-label"],"label-position":r.labelPosition,"validate-on-rule-change":!1,"label-suffix":r.hasLabel?r.labelSuffix:""},r.$attrs,{model:s.value}),{default:h(()=>[w(r.$slots,"default",{},()=>[R(" 分组表单 "),O.value?(o(!0),I(N,{key:0},A(O.value,B=>(o(),v(e(Cl),g({key:B.title},B.cardProps||r.cardProps,{class:"plus-form__group__item"}),{header:h(()=>[w(r.$slots,"group-header",{title:B.title,columns:B.columns,icon:B.icon},()=>[be("div",oa,[B.icon?(o(),v(e(je),{key:0},{default:h(()=>[(o(),v(L(B.icon)))]),_:2},1024)):R("v-if",!0),W(" "+z(B.title),1)])])]),default:h(()=>[x(De,{modelValue:n.value,"onUpdate:modelValue":T[0]||(T[0]=$=>n.value=$),"row-props":r.rowProps,"col-props":r.colProps,columns:c(B.columns),onChange:k},Q({_:2},[A(e(_),($,U)=>({name:U,fn:h(Z=>[w(r.$slots,U,j(H(Z)))])})),A(e(V),($,U)=>({name:U,fn:h(Z=>[w(r.$slots,U,j(H(Z)))])})),A(e(S),($,U)=>({name:U,fn:h(Z=>[w(r.$slots,U,j(H(Z)))])})),r.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(r.$slots,"tooltip-icon")]),key:"0"}:void 0]),1032,["modelValue","row-props","col-props","columns"])]),_:2},1040))),128)):(o(),I(N,{key:1},[R(" 普通表单 "),x(De,{modelValue:n.value,"onUpdate:modelValue":T[1]||(T[1]=B=>n.value=B),"row-props":r.rowProps,"col-props":r.colProps,columns:y.value,"has-label":r.hasLabel,onChange:k},Q({_:2},[A(e(_),(B,$)=>({name:$,fn:h(U=>[w(r.$slots,$,j(H(U)))])})),A(e(V),(B,$)=>({name:$,fn:h(U=>[w(r.$slots,$,j(H(U)))])})),A(e(S),(B,$)=>({name:$,fn:h(U=>[w(r.$slots,$,j(H(U)))])})),r.$slots["search-footer"]?{name:"search-footer",fn:h(()=>[w(r.$slots,"search-footer")]),key:"0"}:void 0,r.$slots["tooltip-icon"]?{name:"tooltip-icon",fn:h(()=>[w(r.$slots,"tooltip-icon")]),key:"1"}:void 0]),1032,["modelValue","row-props","col-props","columns","has-label"])],64))]),r.hasFooter?(o(),I("div",{key:0,class:"plus-form__footer",style:El(F.value)},[w(r.$slots,"footer",j(H({handleReset:G,handleSubmit:Y})),()=>[r.hasReset?(o(),v(e(Te),{key:0,onClick:G},{default:h(()=>[R(" 重置 "),W(" "+z(r.resetText||e(b)("plus.form.resetText")),1)]),_:1})):R("v-if",!0),x(e(Te),{type:"primary",loading:r.submitLoading,onClick:Y},{default:h(()=>[R(" 提交 "),W(" "+z(r.submitText||e(b)("plus.form.submitText")),1)]),_:1},8,["loading"])])],4)):R("v-if",!0)]),_:3},16,["rules","label-width","class","label-position","label-suffix","model"]))}}),sa=le(ta,[["__file","index.vue"]]);const da=sa;export{da as P,ie as u};
